<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>个人主页 · 科幻版</title>
    <style>
        *{margin:0;padding:0;box-sizing:border-box}
        body{
            background:#000;
            color:#fff;
            font-family:'Segoe UI',sans-serif;
            overflow:hidden;
            min-height:100vh;
            position:relative;
        }
        canvas{position:fixed;top:0;left:0;width:100%;height:100%;z-index:-1}
        .container{max-width:1200px;margin:0 auto;padding:2rem;position:relative;z-index:1}
        header{display:flex;justify-content:space-between;align-items:center;padding:1.5rem 0;border-bottom:1px solid rgba(0,200,255,.3)}
        .logo{font-size:1.8rem;font-weight:bold;background:linear-gradient(90deg,#00ffff,#0080ff);-webkit-background-clip:text;background-clip:text;color:transparent}
        nav ul{display:flex;list-style:none;gap:2rem}
        nav a{color:#a0e0ff;text-decoration:none;transition:.3s;font-size:1.1rem}
        nav a:hover{color:#00ccff}
        .hero{text-align:center;padding:6rem 0}
        h1{font-size:3.5rem;margin-bottom:1rem;background:linear-gradient(90deg,#00ffff,#0080ff,#a200ff);-webkit-background-clip:text;background-clip:text;color:transparent}
        .tagline{font-size:1.5rem;margin-bottom:2rem;color:#a0e0ff}
        .btn{display:inline-block;background:rgba(0,100,150,.5);color:#fff;border:1px solid #00aaff;padding:.8rem 1.8rem;border-radius:5px;text-decoration:none;transition:.3s;margin:0 .5rem}
        .btn:hover{background:rgba(0,150,200,.7);box-shadow:0 0 20px rgba(0,200,255,.6)}
        .about{display:grid;grid-template-columns:1fr 2fr;gap:3rem;margin:5rem 0;align-items:center}
        .profile-img{width:100%;border-radius:50%;border:3px solid rgba(0,200,255,.5);box-shadow:0 0 30px rgba(0,200,255,.4)}
        .about-text h2{font-size:2.2rem;margin-bottom:1.5rem;color:#00ccff}
        .about-text p{line-height:1.6;margin-bottom:1.5rem;font-size:1.1rem}
        .skills,.projects{margin:5rem 0}
        .skills h2,.projects h2{text-align:center;font-size:2.2rem;margin-bottom:3rem;color:#00ccff}
        .skills-grid,.project-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:2rem}
        .skill-card,.project-card{background:rgba(10,30,50,.7);padding:2rem;border-radius:10px;border:1px solid rgba(0,150,255,.3);transition:.3s}
        .skill-card:hover,.project-card:hover{transform:translateY(-5px);box-shadow:0 0 25px rgba(0,200,255,.4)}
        .skill-card h3,.project-content h3{color:#00ccff;margin-bottom:1rem}
        .project-img{width:100%;height:200px;background:linear-gradient(45deg,#0a192f,#00ccff);display:flex;align-items:center;justify-content:center;color:#fff;font-size:1.2rem}
        footer{text-align:center;padding:2rem;margin-top:5rem;border-top:1px solid rgba(0,100,200,.3)}
        .social-links{display:flex;justify-content:center;gap:1.5rem;margin-top:1.5rem}
        .social-links a{color:#a0e0ff;font-size:1.5rem;transition:.3s}
        .social-links a:hover{color:#00ccff}
        
        /* AI对话框样式 */
        .ai-chat-btn {
            position: fixed;
            bottom: 2rem;
            right: 2rem;
            width: 60px;
            height: 60px;
            border-radius: 50%;
            background: linear-gradient(135deg, #00ccff, #a200ff);
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            box-shadow: 0 0 20px rgba(0,200,255,.8);
            z-index: 1000;
            transition: all 0.3s;
        }
        .ai-chat-btn:hover {
            transform: scale(1.1);
            box-shadow: 0 0 30px rgba(162,0,255,.8);
        }
        .ai-chat-btn i {
            font-size: 1.8rem;
            color: white;
        }
        .ai-chat-container {
            position: fixed;
            bottom: 2rem;
            right: 2rem;
            width: 380px;
            height: 500px;
            background: rgba(10,20,40,0.9);
            border: 1px solid rgba(0,200,255,.5);
            border-radius: 15px;
            box-shadow: 0 0 30px rgba(0,200,255,.4);
            display: none;
            flex-direction: column;
            z-index: 1001;
            overflow: hidden;
            backdrop-filter: blur(10px);
        }
        .ai-chat-header {
            padding: 1rem;
            background: rgba(0,50,100,0.7);
            border-bottom: 1px solid rgba(0,200,255,.3);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        .ai-chat-header h3 {
            color: #00ccff;
            margin: 0;
            font-size: 1.2rem;
        }
        .ai-chat-close {
            background: none;
            border: none;
            color: #a0e0ff;
            font-size: 1.5rem;
            cursor: pointer;
            transition: color 0.3s;
        }
        .ai-chat-close:hover {
            color: #ff3366;
        }
        .ai-chat-messages {
            flex: 1;
            padding: 1rem;
            overflow-y: auto;
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }
        .message {
            max-width: 85%;
            padding: 0.8rem 1rem;
            border-radius: 15px;
            position: relative;
            animation: fadeIn 0.3s;
        }
        .message.user {
            align-self: flex-end;
            background: rgba(0,100,200,0.7);
            border-bottom-right-radius: 5px;
        }
        .message.ai {
            align-self: flex-start;
            background: rgba(30,60,90,0.7);
            border-bottom-left-radius: 5px;
        }
        .message-content {
            line-height: 1.4;
        }
        .ai-typing {
            display: flex;
            align-items: center;
            gap: 5px;
            color: #a0e0ff;
            font-style: italic;
        }
        .typing-dots {
            display: flex;
            gap: 3px;
        }
        .typing-dots span {
            width: 6px;
            height: 6px;
            border-radius: 50%;
            background: #00ccff;
            animation: typing 1.4s infinite ease-in-out;
        }
        .typing-dots span:nth-child(1) { animation-delay: 0s; }
        .typing-dots span:nth-child(2) { animation-delay: 0.2s; }
        .typing-dots span:nth-child(3) { animation-delay: 0.4s; }
        .ai-chat-input-container {
            padding: 1rem;
            border-top: 1px solid rgba(0,200,255,.3);
            display: flex;
            gap: 0.5rem;
        }
        .ai-chat-input {
            flex: 1;
            padding: 0.8rem;
            background: rgba(20,40,70,0.7);
            border: 1px solid rgba(0,150,255,.4);
            border-radius: 10px;
            color: white;
            font-size: 1rem;
        }
        .ai-chat-input:focus {
            outline: none;
            border-color: #00ccff;
            box-shadow: 0 0 10px rgba(0,200,255,.4);
        }
        .ai-chat-send {
            padding: 0.8rem 1.2rem;
            background: rgba(0,100,200,0.7);
            border: 1px solid rgba(0,150,255,.5);
            border-radius: 10px;
            color: white;
            cursor: pointer;
            transition: all 0.3s;
        }
        .ai-chat-send:hover {
            background: rgba(0,150,200,0.9);
            box-shadow: 0 0 10px rgba(0,200,255,.6);
        }
        .ai-chat-send:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }
        
        /* 动画 */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        @keyframes typing {
            0%, 60%, 100% { transform: translateY(0); }
            30% { transform: translateY(-5px); }
        }
        
        @media(max-width:768px){
            header{flex-direction:column;gap:1rem}
            h1{font-size:2.5rem}
            .about{grid-template-columns:1fr;text-align:center}
            .profile-img{max-width:300px;margin:0 auto}
            .ai-chat-container {
                width: calc(100vw - 2rem);
                height: 70vh;
                right: 1rem;
                bottom: 1rem;
            }
        }
        /* 扫描线特效 */
        .scanlines{
            position:fixed;top:0;left:0;width:100%;height:100%;
            background:linear-gradient(transparent 50%,rgba(0,0,0,.03) 50%);
            background-size:100% 4px;
            pointer-events:none;z-index:2;
            animation:scan 8s linear infinite;
        }
        @keyframes scan{0%{background-position:0 0}100%{background-position:0 100%}}
    </style>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <canvas id="bg"></canvas>
    <div class="scanlines"></div>

    <div class="container">
        <header>
            <div class="logo">个人主页</div>
            <nav>
                <ul>
                    <li><a href="#home">首页</a></li>
                    <li><a href="#about">关于我</a></li>
                    <li><a href="#skills">技能</a></li>
                    <li><a href="#projects">项目</a></li>
                    <li><a href="#contact">联系</a></li>
                </ul>
            </nav>
        </header>

        <section class="hero" id="home">
            <h1>欢迎来到我的科幻空间</h1>
            <p class="tagline">开发者 · 赛博创作者 · 未来技术探索者</p>
            <div>
                <a href="#about" class="btn">了解更多</a>
                <a href="#contact" class="btn">联系我</a>
            </div>
        </section>

        <section class="about" id="about">
            <div><img src="https://via.placeholder.com/400x400/0a192f/00ccff?text=头像" alt="头像" class="profile-img"></div>
            <div class="about-text">
                <h2>关于我</h2>
                <p>我是一名充满热情的开发者，专注于创造优雅而高效的解决方案。拥有多年的前端和后端开发经验，致力于将复杂问题转化为直观的用户体验。</p>
                <p>我热爱探索新技术，并相信代码可以改变世界。在我的职业生涯中，我参与过多个大型项目，从概念到部署，积累了丰富的实践经验。</p>
                <p>除了编码，我还喜欢研究人机交互、用户体验设计，并经常在技术社区分享我的知识和经验。</p>
            </div>
        </section>

        <section class="skills" id="skills">
            <h2>专业技能</h2>
            <div class="skills-grid">
                <div class="skill-card"><h3>前端开发</h3><p>HTML5, CSS3, JavaScript, React, Vue.js, TypeScript</p></div>
                <div class="skill-card"><h3>后端开发</h3><p>Node.js, Python, PHP, MySQL, MongoDB, RESTful APIs</p></div>
                <div class="skill-card"><h3>UI/UX 设计</h3><p>Figma, Adobe XD, 用户研究, 交互设计, 原型制作</p></div>
                <div class="skill-card"><h3>其他技能</h3><p>Git, Docker, AWS, 敏捷开发, 项目管理</p></div>
            </div>
        </section>

        <section class="projects" id="projects">
            <h2>我的项目</h2>
            <div class="project-grid">
                <div class="project-card"><div class="project-img">项目截图</div><div class="project-content"><h3>响应式网站设计</h3><p>使用现代前端技术构建的响应式网站，适配各种设备屏幕。</p></div></div>
                <div class="project-card"><div class="project-img">项目截图</div><div class="project-content"><h3>数据可视化平台</h3><p>基于React和D3.js的数据可视化工具，帮助用户理解复杂数据。</p></div></div>
                <div class="project-card"><div class="project-img">项目截图</div><div class="project-content"><h3>移动应用开发</h3><p>使用React Native开发的跨平台移动应用，提供流畅的用户体验。</p></div></div>
            </div>
        </section>

        <footer id="contact">
            <p>© 2025 我的科幻主页 | 保留所有权利</p>
            <div class="social-links">
                <a href="#"><i class="fab fa-github"></i></a>
                <a href="#"><i class="fab fa-linkedin"></i></a>
                <a href="#"><i class="fab fa-twitter"></i></a>
                <a href="#"><i class="fas fa-envelope"></i></a>
            </div>
        </footer>
    </div>

    <!-- AI对话框 -->
    <div class="ai-chat-btn" id="aiChatBtn">
        <i class="fas fa-robot"></i>
    </div>
    
    <div class="ai-chat-container" id="aiChatContainer">
        <div class="ai-chat-header">
            <h3>讯飞星火 AI 助手</h3>
            <button class="ai-chat-close" id="aiChatClose"><i class="fas fa-times"></i></button>
        </div>
        <div class="ai-chat-messages" id="aiChatMessages">
            <div class="message ai">
                <div class="message-content">你好！我是讯飞星火AI助手，有什么可以帮助你的吗？</div>
            </div>
        </div>
        <div class="ai-chat-input-container">
            <input type="text" class="ai-chat-input" id="aiChatInput" placeholder="输入你的问题...">
            <button class="ai-chat-send" id="aiChatSend">发送</button>
        </div>
    </div>

    <script>
        const canvas = document.getElementById('bg');
        const ctx = canvas.getContext('2d');
        let w, h;

        function resize() {
            w = canvas.width = window.innerWidth;
            h = canvas.height = window.innerHeight;
        }
        resize();
        window.addEventListener('resize', resize);

        // ---------- 星空 ----------
        const stars = [];
        for(let i=0;i<200;i++){
            stars.push({
                x: Math.random()*w,
                y: Math.random()*h,
                r: Math.random()*1.5,
                blink: Math.random()*Math.PI*2,
                speed: Math.random()*0.02+0.005
            });
        }

        // ---------- 粒子 ----------
        class Particle {
            constructor(){
                this.reset();
                this.type = Math.random()<0.7?'NORMAL':'FAST';
                this.config = this.type==='NORMAL'?
                    {col:['#e6f7ff','#ccf2ff','#b3ecff'],sz:[2,5],spd:0.15}:
                    {col:['#ffb3ec','#ffccf2','#ffe6f2'],sz:[1,3],spd:0.25};
                this.color = this.config.col[Math.floor(Math.random()*this.config.col.length)];
                this.size = Math.random()*(this.config.sz[1]-this.config.sz[0])+this.config.sz[0];
                this.pulse = 0;
            }
            reset(){
                const m = 100;
                this.x = Math.random()*(w-2*m)+m;
                this.y = Math.random()*(h-2*m)+m;
                this.vx = (Math.random()-0.5)*0.5;
                this.vy = (Math.random()-0.5)*0.5;
                this.trail = [];
                this.stuck = 0;
            }
            update(mouse){
                // 轨道
                const orbitR = 15+Math.random()*20;
                const orbitA = performance.now()*0.001 + this.x*0.01;
                const ox = Math.cos(orbitA)*orbitR*0.02;
                const oy = Math.sin(orbitA)*orbitR*0.02;

                // 鼠标引力漩涡
                const dx = this.x - mouse.x;
                const dy = this.y - mouse.y;
                const dist = Math.hypot(dx,dy);
                let fx=0,fy=0;
                if(dist<180){
                    const f = (180-dist)/180 * 40;
                    fx = dx/dist * f;
                    fy = dy/dist * f;
                }

                // 强边界推力
                const br = 80, bs = 12;
                if(this.x<br) fx += ((br-this.x)/br)**0.6 * bs;
                if(this.x>w-br) fx -= ((this.x-(w-br))/br)**0.6 * bs;
                if(this.y<br) fy += ((br-this.y)/br)**0.6 * bs;
                if(this.y>h-br) fy -= ((this.y-(h-br))/br)**0.6 * bs;

                this.vx = (this.vx + ox + fx)*0.94;
                this.vy = (this.vy + oy + fy)*0.94;
                this.x += this.vx;
                this.y += this.vy;

                // 脉冲
                this.pulse += 0.08;
                this.size = this.config.sz[0] + (this.config.sz[1]-this.config.sz[0])*0.5*(1+Math.sin(this.pulse)*0.3);

                // 轨迹
                this.trail.push({x:this.x,y:this.y});
                if(this.trail.length>5) this.trail.shift();

                // 边界逃逸
                if(this.x<30||this.x>w-30||this.y<30||this.y>h-30){
                    this.stuck++;
                    if(this.stuck>6){
                        const cx=w/2, cy=h/2;
                        const dx=cx-this.x, dy=cy-this.y, d=Math.hypot(dx,dy);
                        if(d>10){
                            this.vx += dx/d*5;
                            this.vy += dy/d*5;
                        }
                        this.stuck=0;
                    }
                }else this.stuck=0;
            }
            draw(){
                // 轨迹
                this.trail.forEach((p,i)=>{
                    const a = (i/this.trail.length)*0.6;
                    ctx.fillStyle = `rgba(${parseInt(this.color.slice(1,3),16)},${parseInt(this.color.slice(3,5),16)},${parseInt(this.color.slice(5,7),16)},${a})`;
                    ctx.beginPath();
                    ctx.arc(p.x,p.y,this.size*(i/this.trail.length)*0.8,0,Math.PI*2);
                    ctx.fill();
                });
                // 光环
                const grad = ctx.createRadialGradient(this.x,this.y,0,this.x,this.y,this.size*4);
                grad.addColorStop(0,`rgba(${parseInt(this.color.slice(1,3),16)},${parseInt(this.color.slice(3,5),16)},${parseInt(this.color.slice(5,7),16)},0.4)`);
                grad.addColorStop(1,'transparent');
                ctx.fillStyle = grad;
                ctx.beginPath();
                ctx.arc(this.x,this.y,this.size*4,0,Math.PI*2);
                ctx.fill();

                // 核心
                ctx.fillStyle = this.color;
                ctx.beginPath();
                ctx.arc(this.x,this.y,this.size,0,Math.PI*2);
                ctx.fill();

                // 辉光
                ctx.shadowColor = this.color;
                ctx.shadowBlur = 20;
                ctx.fill();
                ctx.shadowBlur = 0;
            }
        }

        const particles = Array.from({length:380},()=>new Particle());
        const mouse = {x:-9999,y:-9999};
        window.addEventListener('mousemove',e=>{mouse.x=e.clientX;mouse.y=e.clientY;});
        window.addEventListener('mouseout',()=>{mouse.x=mouse.y=-9999;});

        // ---------- 能量光束 ----------
        function drawBeams(){
            for(let i=0;i<particles.length;i++){
                for(let j=i+1;j<particles.length;j++){
                    const dx=particles[i].x-particles[j].x;
                    const dy=particles[i].y-particles[j].y;
                    const d=Math.hypot(dx,dy);
                    if(d<180){
                        const a=(1-d/180)*0.5;
                        const grad=ctx.createLinearGradient(particles[i].x,particles[i].y,particles[j].x,particles[j].y);
                        const c1=particles[i].color, c2=particles[j].color;
                        grad.addColorStop(0,hexToRgba(c1,a));
                        grad.addColorStop(1,hexToRgba(c2,a));
                        ctx.strokeStyle=grad;
                        ctx.lineWidth=1.2;
                        ctx.beginPath();
                        ctx.moveTo(particles[i].x,particles[i].y);
                        ctx.lineTo(particles[j].x,particles[j].y);
                        ctx.stroke();

                        // 流动光点
                        const t=(performance.now()*0.003)%1;
                        const px=particles[i].x + (particles[j].x-particles[i].x)*t;
                        const py=particles[i].y + (particles[j].y-particles[i].y)*t;
                        ctx.fillStyle='rgba(255,255,255,0.8)';
                        ctx.beginPath();
                        ctx.arc(px,py,2,0,Math.PI*2);
                        ctx.fill();
                    }
                }
            }
        }

        function hexToRgba(h,a){
            h=h.replace('#','');
            const r=parseInt(h.slice(0,2),16),g=parseInt(h.slice(2,4),16),b=parseInt(h.slice(4,6),16);
            return `rgba(${r},${g},${b},${a})`;
        }

        // ---------- 主循环 ----------
        function animate(){
            ctx.fillStyle='rgba(0,0,15,0.08)';
            ctx.fillRect(0,0,w,h);

            // 星空
            stars.forEach(s=>{
                s.blink += s.speed;
                const r = s.r * (1 + Math.sin(s.blink)*0.3);
                ctx.fillStyle = `rgba(255,255,255,${0.5+Math.sin(s.blink)*0.3})`;
                ctx.beginPath();
                ctx.arc(s.x,s.y,r,0,Math.PI*2);
                ctx.fill();
            });

            particles.forEach(p=>{p.update(mouse);p.draw();});
            drawBeams();

            requestAnimationFrame(animate);
        }
        animate();

        // ---------- AI对话框功能 ----------
        const aiChatBtn = document.getElementById('aiChatBtn');
        const aiChatContainer = document.getElementById('aiChatContainer');
        const aiChatClose = document.getElementById('aiChatClose');
        const aiChatMessages = document.getElementById('aiChatMessages');
        const aiChatInput = document.getElementById('aiChatInput');
        const aiChatSend = document.getElementById('aiChatSend');

        // API配置
        const API_PASSWORD = 'beKzBpIseEpEfZQosYTm:bbdGFQjJJaZXYiSkVWwn';
        const API_URL = 'https://spark-api-open.xf-yun.com/v1/chat/completions';
        
        // 对话历史
        let conversationHistory = [
            {
                role: 'system',
                content: '你是知识渊博的AI助手，回答简洁明了，富有帮助性。'
            }
        ];

        // 打开对话框
        aiChatBtn.addEventListener('click', () => {
            aiChatContainer.style.display = 'flex';
            aiChatBtn.style.display = 'none';
            aiChatInput.focus();
        });

        // 关闭对话框
        aiChatClose.addEventListener('click', () => {
            aiChatContainer.style.display = 'none';
            aiChatBtn.style.display = 'flex';
        });

        // 发送消息
        function sendMessage() {
            const message = aiChatInput.value.trim();
            if (!message) return;

            // 添加用户消息到界面
            addMessage(message, 'user');
            aiChatInput.value = '';
            
            // 显示AI正在输入
            showTypingIndicator();
            
            // 添加到对话历史
            conversationHistory.push({
                role: 'user',
                content: message
            });

            // 调用AI API
            callAIAPI();
        }

        // 点击发送按钮
        aiChatSend.addEventListener('click', sendMessage);

        // 按Enter发送
        aiChatInput.addEventListener('keypress', (e) => {
            if (e.key === 'Enter') {
                sendMessage();
            }
        });

        // 添加消息到界面
        function addMessage(content, sender) {
            const messageElement = document.createElement('div');
            messageElement.className = `message ${sender}`;
            
            const contentElement = document.createElement('div');
            contentElement.className = 'message-content';
            contentElement.textContent = content;
            
            messageElement.appendChild(contentElement);
            aiChatMessages.appendChild(messageElement);
            
            // 滚动到底部
            aiChatMessages.scrollTop = aiChatMessages.scrollHeight;
        }

        // 显示输入指示器
        function showTypingIndicator() {
            const typingElement = document.createElement('div');
            typingElement.className = 'message ai';
            typingElement.id = 'typing-indicator';
            
            const typingContent = document.createElement('div');
            typingContent.className = 'ai-typing';
            typingContent.innerHTML = 'AI正在思考<span class="typing-dots"><span></span><span></span><span></span></span>';
            
            typingElement.appendChild(typingContent);
            aiChatMessages.appendChild(typingElement);
            aiChatMessages.scrollTop = aiChatMessages.scrollHeight;
        }

        // 隐藏输入指示器
        function hideTypingIndicator() {
            const typingElement = document.getElementById('typing-indicator');
            if (typingElement) {
                typingElement.remove();
            }
        }

        // 调用AI API
        async function callAIAPI() {
            try {
                // 禁用发送按钮
                aiChatSend.disabled = true;
                
                const response = await fetch(API_URL, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        'Authorization': `Bearer ${API_PASSWORD}`
                    },
                    body: JSON.stringify({
                        model: 'generalv3.5',
                        messages: conversationHistory,
                        temperature: 0.7,
                        max_tokens: 1024,
                        stream: false
                    })
                });

                if (!response.ok) {
                    throw new Error(`API请求失败: ${response.status}`);
                }

                const data = await response.json();
                
                // 移除输入指示器
                hideTypingIndicator();
                
                if (data.code === 0 && data.choices && data.choices.length > 0) {
                    const aiResponse = data.choices[0].message.content;
                    
                    // 添加AI回复到界面
                    addMessage(aiResponse, 'ai');
                    
                    // 添加到对话历史
                    conversationHistory.push({
                        role: 'assistant',
                        content: aiResponse
                    });
                } else {
                    addMessage('抱歉，我暂时无法回答这个问题。请稍后再试。', 'ai');
                }
            } catch (error) {
                console.error('调用AI API时出错:', error);
                hideTypingIndicator();
                addMessage('抱歉，与AI服务通信时出现问题。请检查网络连接或稍后再试。', 'ai');
            } finally {
                // 重新启用发送按钮
                aiChatSend.disabled = false;
            }
        }
    </script>
</body>
</html>
